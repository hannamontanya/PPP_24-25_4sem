RAR password finder
===============

FastAPI-сервер для подбора пароля к RAR-архиву.
Для подбора используется набор утилит John The Ripper (JTR)

https://www.openwall.com/john/

Его нужно предварительно установить по инструкции:

https://www.openwall.com/john/doc/INSTALL.shtml

В операционной системе Windows нужно прописать путь
к папке, где установлен JTR в переменной JOHN_PATH в
файле app/core/config.py

В других операционных системах эта переменная должна равняться
пустой строке.


Для корректной работы сервера необходимо создать виртуальное
окружение Python.
В операционной системе Windows это делается командой:

python -m venv env

где env - название папки, в которой будут храниться файлы виртуального
окружения

Затем нужно активировать виртуальное окружение.
В операционной системе Windows это делается командой:

env\Scripts\activate

где env - название папки, в которой хранятся файлы виртуального
окружения

Затем нужно установить зависимости командой:

pip install -r requirements.txt

Затем создать базу данных командой:

alembic upgrade head

Затем запустить сервер командой:

python main.py


Веб-интерфейс сервера доступен в браузере по URL-адресу:

http://127.0.0.1:8000/docs#

Сначала необходимо зарегистрировать пользователя с помощью
/signup
Затем залогиниться с помощью кнопки Authorize

(кнопка Authorize вызывает /oauth, а не /login, т.к. по требованиям
OAuth2 поле логина должно называться "username", а по требованиям
лабораторной работы поле логина должно называться "email",
т.е. запрошенный в лабораторной работе способ логина несовместим
с OAuth2, поэтому пришлось завести отдельный endpoint для oauth-авторизации)

Потом можно воспользоваться /extract_hash, чтобы извлечь хэш пароля из
rar-файла

Затем можно запустить брутфорс атаку на извлечённый хэш с помощью
/brut_hash

брутфорс атака выполняется асинхронно в отдельном потоке
проверить, завершилась она или нет можно с помощью
/get_task

В папке проекта есть тестовый rar-архив test.rar с паролем "abc"

Можно запустить /brut_hash c параметрами:
hash: $RAR3$*0*84c5138d110ac8c7*df9652865e96a549a1b6c49f5c7e91f8
charset: abc
max_length: 3

и убедиться, что подбор пароля работает

Когда атака завершится, /get_task должен выдать примерно следующее:
{
  "status": "completed",
  "progress": 100,
  "result": "abc"
}

